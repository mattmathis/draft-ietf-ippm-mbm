    <!-- ======================================================== 6 -->
    <section anchor="generation" title="Generating test streams">

      <t>Many important properties of Model Based Metrics, such as
      vantage independence, are a consequence of using test streams
      that have temporal structures that mimic TCP or other
      transport protocols running over a complete path. As
      described in 
      <xref target='tcp' />, self clocked protocols naturally have
      burst structures related to the RTT and pipe size of the
      complete path. These bursts naturally get larger (contain
      more packets) as either the Target RTT or Target Data Rate
      get larger, or the Target MTU gets smaller. An implication of
      these relationships is that test streams generated by running
      self clocked protocols over short subpaths may not adequately
      exercise the queueing at any bottleneck to determine if the
      subpath can support the full Target Transport Performance
      over the complete path.</t>

      <t>Failing to authentically mimic TCP's temporal structure is
      part the reason why simple performance tools such as iperf,
      netperf, nc, etc have the reputation of yielding false pass
      results over short test paths, even when some subpath has a
      flaw.</t>

      <t>The definitions in 
      <xref target="terminology" /> are sufficient for most test
      streams. We describe the slowstart and standing queue test
      streams in more detail.</t>

      <t>In conventional measurement practice stochastic processes
      are used to eliminate many unintended correlations and sample
      biases. However MBM tests are designed to explicitly mimic
      temporal correlations caused by network or protocol elements
      themselves and are intended to accurately reflect
      implementation behavior. Some portion of the system, such as
      traffic arrival (test scheduling) are naturally stochastic.
      Other details, such as protocol processing times, are
      technically nondeterministic and might be modeled
      stochastically, but are only a tiny part of the overall
      behavior which is dominated by implementation specific
      deterministic effects. Furthermore, it is known that sampling
      bias is a real problem for some protocol implementations. For
      example TCP's RTT estimator used to determine the Retransmit
      Time Out (RTO), can be fooled by periodic cross traffic or
      start-stop applications.</t>

      <t>At some point in the future it may make sense to introduce
      fine grained noise sources into the models used for
      generating test streams, but they are not warranted at this
      time.</t>
#include src/paced.xml
#include src/constant_window.xml
#include src/scanned_window.xml
#include src/channelized.xml
    </section>
