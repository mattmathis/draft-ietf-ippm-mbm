    <!-- ======================================================== 6 -->
    <section anchor="generation" title="Generating test streams">

      <t>Many important properties of Model Based Metrics, such as
      vantage independence, are a consequence of using test streams
      that have temporal structures that mimic TCP or other
      transport protocols running over a complete path. As
      described in 
      <xref target='tcp' />, self clocked protocols naturally have
      burst structures related to the RTT and pipe size of the
      complete path. These bursts naturally get larger (contain
      more packets) as either the Target RTT or Target Data Rate
      get larger, or the Target MTU gets smaller. An implication of
      these relationships is that test streams generated by running
      self clocked protocols over short subpaths may not adequately
      exercise the queuing at any bottleneck to determine if the
      subpath can support the full Target Transport Performance
      over the complete path.</t>

      <t>Failing to authentically mimic TCP's temporal structure is
      part of the reason why simple performance tools such as iPerf,
      netperf, nc, etc have the reputation of yielding false pass
      results over short test paths, even when some subpath has a
      flaw.</t>

      <t>The definitions in 
      <xref target="terminology" /> are sufficient for most test
      streams. We describe the slowstart and standing queue test
      streams in more detail.</t>

      <t>In conventional measurement practice stochastic processes
      are used to eliminate many unintended correlations and sample
      biases. However MBM tests are designed to explicitly mimic
      temporal correlations caused by network or protocol elements
      themselves. Some portions of these systems, such as
      traffic arrival (test scheduling) are naturally stochastic.
      Other behaviors, such as back-to-back packet transmissions,
      are dominated by implementation specific deterministic effects.
      Although these behaviors always contain 
      non-deterministic elements and might be modeled
      stochastically, these details typically do not
      contribute significantly to the overall system behavior.
      Furthermore, it is known that real protocols are subject to 
      failures caused by network property estimators suffering from
      bias due to correlation in their own traffic. For
      example TCP's RTT estimator used to determine the Retransmit
      Time Out (RTO), can be fooled by periodic cross traffic or
      start-stop applications.  For these reasons many details of the
      test streams are specified deterministically.
      </t>

      <t>It may  prove useful to introduce
      fine grained noise sources into the models used for
      generating test streams in an update of Model Based Metrics,
      but the complexity is not warranted at the
      time this document was written.</t>
#include src/paced.xml
#include src/constant_window.xml
#include src/scanned_window.xml
#include src/channelized.xml
    </section>
